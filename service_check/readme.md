# 修改说明

本次针对 `service_check` 模块进行了健壮性和兼容性增强，方便在非 systemd 环境下也能给出合理反馈，并修复了端口检查依赖的缺失导入。

## 主要改动
- 新增 `systemctl` 可用性检测：在非 systemd 环境下会自动回落到进程统计，避免命令报错。
- 服务状态查询增加重试与等待逻辑，失败时提供更清晰的错误反馈；解析关键词也支持“状态”“list”等描述。
- 服务名提取逻辑强化，支持匹配“xxx服务”或“service xxx”模式，减少漏判。
- 端口检查补全 `format_bytes`/`datetime`/`time` 等依赖导入，确保输出进程资源占用信息时不会异常。
- 重启/启动/停止操作在 systemd 不可用时会直接提示限制，避免误导。

## 使用提示
保持原有的调用方式不变，例如在交互模式中输入“检查 nginx 服务状态”或“检查端口 80”。在非 systemd 环境，工具会提示只提供进程层面的替代信息。

